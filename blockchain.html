<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="blockchain/stylesheet.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="stylesheet.css">
    <script language="JavaScript" src="blockchain/blockchain.js"></script>
    <script language="JavaScript">
        // alice.transfer(bob, 0);
        // bob.transfer(carol, 0);
        // carol.transfer(alice, 0);

        // alice.mineBlock();
        // alice.mineBlock();
        // alice.mineBlock();
        // alice.transfer(bob, 10);
        // bob.mineBlock();

        // masterBlockChain.checkValidity();
        // masterBlockChain.getBalance(alice.name);
        // masterBlockChain.getBalance(bob.name);
        // masterBlockChain.getBalance(carol.name);
        // console.log("");
        // masterBlockChain.printAll();

        window.onload = function ()
        {
            document.getElementById("alice_transfer").addEventListener("click", function()
            {
                alice.transfer(document.getElementById("alice_to").value, document.getElementById("alice_value").value);
                document.getElementById("alice_value").value = "";
            }, false);
            document.getElementById("alice_mine").addEventListener("click", function()
            {
                alice.mineBlock();
            }, false);

            document.getElementById("bob_transfer").addEventListener("click", function()
            {
                bob.transfer(document.getElementById("bob_to").value, document.getElementById("bob_value").value);
                document.getElementById("bob_value").value = "";
            }, false);
            document.getElementById("bob_mine").addEventListener("click", function()
            {
                bob.mineBlock();
            }, false);

            document.getElementById("carol_transfer").addEventListener("click", function()
            {
                carol.transfer(document.getElementById("carol_to").value, document.getElementById("carol_value").value);
                document.getElementById("carol_value").value = "";
            }, false);
            document.getElementById("carol_mine").addEventListener("click", function()
            {
                carol.mineBlock();
            }, false);

            document.getElementById("printBlockchain").addEventListener("click", function()
            {
                updateBalance();
                document.getElementById("blockchain_log").innerHTML = masterBlockChain.printAll()
            }, false);
        }
    </script>
</head>

<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.php">PaulsDemo</a>
            </div>
            <ul class="nav navbar-nav">
                <li><a href="index.php">Home</a></li>
                <li class="active"><a href="">Blockchain</a></li>
                <li><a href="demo.html">Miscellaneous</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
        </div>
    </nav>

    <div class="grid-container">
        <div class="grid-item">
            <h1 style="color:white;">Alice</h1>
            <img src="blockchain/Alice.png" alt="Alice">
            <div class="grid-container">
                <div class="grid-item">
                    <h3 style="color:white;">Transfer</h3>
                    <input type="number" id="alice_value" placeholder="value" step="0.1"/>
                    <h3 style="color:white;">To</h3>
                    <select id="alice_to">
                        <option value="Bob">Bob</option>
                        <option value="Carol">Carol</option>
                    </select>
                    <br/>
                    <br/>
                    <button type="button" id="alice_transfer">Transfer</button>
                </div>
                <div class="grid-item">
                    <br/>
                    <h3 style="color:white;">Balance:</h3>
                    <h3 style="color:white;" id="alice_balance">0</h3>
                    <br/>
                    <button type="button" id="alice_mine">Mine Block</button>
                </div>
            </div>
        </div>
        <div class="grid-item">
            <h1 style="color:white;">Bob</h1>
            <img src="blockchain/Bob.png" alt="Bob">
            <div class="grid-container">
                <div class="grid-item">
                    <h3 style="color:white;">Transfer</h3>
                    <input type="number" id="bob_value" placeholder="value" step="0.1"/>
                    <h3 style="color:white;">To</h3>
                    <select id="bob_to">
                        <option value="Alice">Alice</option>
                        <option value="Carol">Carol</option>
                    </select>
                    <br/>
                    <br/>
                    <button type="button" id="bob_transfer">Transfer</button>
                </div>
                <div class="grid-item">
                    <br/>
                    <h3 style="color:white;">Balance:</h3>
                    <h3 style="color:white;" id="bob_balance">0</h3>
                    <br/>
                    <button type="button" id="bob_mine">Mine Block</button>
                </div>
            </div>
        </div>
        <div class="grid-item">
            <h1 style="color:white;">Carol</h1>
            <img src="blockchain/Carol.png" alt="Carol">
            <div class="grid-container">
                <div class="grid-item">
                    <h3 style="color:white;">Transfer</h3>
                    <input type="number" id="carol_value" placeholder="value" step="0.1"/>
                    <h3 style="color:white;">To</h3>
                    <select id="carol_to">
                        <option value="Alice">Alice</option>
                        <option value="Bob">Bob</option>
                    </select>
                    <br/>
                    <br/>
                    <button type="button" id="carol_transfer">Transfer</button>
                </div>
                <div class="grid-item">
                    <br/>
                    <h3 style="color:white;">Balance:</h3>
                    <h3 style="color:white;" id="carol_balance">0</h3>
                    <br/>
                    <button type="button" id="carol_mine">Mine Block</button>
                </div>
            </div>
        </div>
    </div>



    <br/>
    <button type="button" id="printBlockchain">Print Blockchain</button>

    <textarea id="blockchain_log" rows="8" style="width:100%" readonly></textarea>

    <br/>
    <br/>
    <br/>
    <span style="font-size: 10px; color: Grey">This website is made for educational purpose only. I DO NOT own the image, sound effect or other resources on this website.</span>
</body>

</html>
