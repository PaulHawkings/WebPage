<?xml version="1.0" encoding="utf-8"?>
<svg width="800px" height="600px"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xhtml="http://www.w3.org/1999/xhtml"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     xmlns:a="http://www.adobe.com/svg10-extensions" a:timeline="independent">

  <defs>
    <!-- @@@@@@@@@@linearGradient@@@@@@@@@@ -->

    <linearGradient id="grad1" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgb(120,120,120);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />
    </linearGradient>

    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:rgb(200,200,200);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(80,80,80);stop-opacity:1" />
    </linearGradient>

    <linearGradient id="grad3" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgb(200,200,200);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(100,100,100);stop-opacity:1" />
    </linearGradient>

    <linearGradient id="grad3" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgb(200,200,200);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(100,100,100);stop-opacity:1" />
    </linearGradient>

    <linearGradient id="grad4" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:rgb(150,150,150);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(50,50,50);stop-opacity:1" />
    </linearGradient>

    <linearGradient id="grad5" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:rgb(180,180,180);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(80,80,80);stop-opacity:1" />
    </linearGradient>

    <linearGradient id="grad6" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:rgb(80,80,80);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(180,180,180);stop-opacity:1" />
    </linearGradient>
    <!-- @@@@@@@@@@linearGradient@@@@@@@@@@ -->

    <clipPath id="gameareaclip">
      <rect x="20" y="20" width="600" height="560"/>
    </clipPath>

    <!-- @@@@@@@@@@PATTERN@@@@@@@@@@ -->
<!--     <pattern id="backgroundimg" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
		<path d="M4,4 Q-3,10 4,16 Q6,12 10,18 Q12,12 16,16 Q23,10 16,4 Q13,12 11,4 Q10,10 9,4 Q7,12 4,4 z" style="fill:black"/>
    </pattern> -->
    <pattern id="backgroundimg" x="0" y="0" width="800" height="600" patternUnits="userSpaceOnUse">
      <image xlink:href="img/background.png" x="0" y="0" width="800" height="600" />
    </pattern>
    
    <pattern id="instruction" x="50" y="30" width="500" height="500" patternUnits="userSpaceOnUse">
      <image xlink:href="img/intro.png" x="0" y="0" width="500" height="500" />
    </pattern>

    <pattern id="gamebackgroundimg" x="0" y="0" width="600" height="560" patternUnits="userSpaceOnUse">
      <image xlink:href="img/gbg.jpeg" x="0" y="0" width="600" height="560" />
    </pattern>

    <pattern id="platform_pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
  		<rect x="0" y="0" width="20" height="20" style="fill:url(#grad4)"/>
  		<line x1="0" y1="0" x2="20" y2="20" style="stroke:black"/>
  		<line x1="20" y1="0" x2="0" y2="20" style="stroke:black"/>
  		<rect x="5" y="5" width="10" height="10" style="fill:Peru;stroke:black"/>
    </pattern>
    <pattern id="dplatform_pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
      <rect x="0" y="0" width="20" height="20" style="fill:url(#grad3)"/>
      <line x1="0" y1="0" x2="20" y2="20" style="stroke:black"/>
      <line x1="10" y1="0" x2="20" y2="10" style="stroke:black"/>
      <line x1="0" y1="10" x2="10" y2="20" style="stroke:black"/>
    </pattern>
    <g id="mplatform_pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
      <rect x="0" y="0" width="80" height="20" style="fill:DarkSlateGray "/>
      <circle cx="3" cy="3" r="1" style="fill:silver"/>
      <circle cx="3" cy="17" r="1" style="fill:silver"/>
      <circle cx="77" cy="3" r="1" style="fill:silver"/>
      <circle cx="77" cy="17" r="1" style="fill:silver"/>
      <rect x="5" y="5" width="70" height="10" style="fill:DimGray ;stroke:black"/>
    </g>
    <!-- @@@@@@@@@@PATTERN@@@@@@@@@@ -->
    <!-- @@@@@@@@@@BATMANMODEL@@@@@@@@@@ -->
    <g id="batmanmodel1">
      <path d="M15,0 h2.5 v2.5 h2.5 v2.5 h5 v-2.5 h2.5 v-2.5 h2.5 v2.5 h2.5 v5 h2.5 v12.5 h2.5 v2.5 h2.5 v5 h-2.5 v2.5 h-5 v2.5 h5 v2.5 h2.5 v5 h-15 v-2.5 h-2.5 v-2.5 h-5 v2.5 h-2.5 v2.5 h-15 v-5 h2.5 v-2.5 h5 v-2.5 h-5 v-2.5 h-2.5 v-5 h2.5 v-2.5 h2.5 v-2.5 h5 v-10 h2.5 v-5 h2.5 z" style="fill:black"/>
      <path d="M15,2.5 h2.5 v2.5 h2.5 v2.5 h5 v-2.5 h2.5 v-2.5 h2.5 v5 h2.5 v12.5 h-2.5 v2.5 h-12.5 v-2.5 h-2.5 v-2.5 h-2.5 v-10 h2.5 z" style="fill:DimGray"/>
      <path d="M10,17.5 h2.5 v2.5 h2.5 v2.5 h2.5 v2.5 h10 v2.5 h2.5 v-5 h2.5 v-2.5 h2.5 v2.5 h2.5 v5 h-7.5 v5 h2.5 v2.5 h5 v2.5 h-12.5 v-2.5 h2.5 v-2.5 h-15 v2.5 h2.5 v2.5 h-12.5 v-2.5 h5 v-2.5 h5 v-2.5 h-2.5 v-5 h2.5 v-2.5 h-2.5 v2.5 h-2.5 v2.5 h-5 v-5 h2.5 v-2.5 h5 z" style="fill:DimGray"/>
      <rect  width="2.5" height="2.5" x="20" y="10" style="fill:Silver"/>
      <rect  width="2.5" height="2.5" x="27.5" y="10"  style="fill:Silver"/>
      <path d="M20,15 h12.5 v5 h-2.5 v2.5 h-12.5 v-5 h2.5z" style="fill:NavajoWhite"/>
      <rect width="7.5" height="2.5" x="22.5" y="17.5" style="fill:SlateGray"/>
      <rect class = "ry" width="20" height="2.5" x="10" y="30" style="fill:Gold"/>
    </g>

    <g id="batmanmodeldie" transform="translate(0,40) scale(1,-1)">
      <use xlink:href="#batmanmodel1"/> 
    </g>
    
    <g id="batmanmodel2">
      <path d="M15,0 h2.5 v2.5 h2.5 v2.5 h5 v-2.5 h2.5 v-2.5 h2.5 v2.5 h2.5 v5 h2.5 v7.5 h2.5 v2.5 h2.5 v7.5 h-2.5 v2.5 h-2.5 v2.5 h-2.5 v2.5 h5 v2.5 h2.5 v5 h-2.5 v2.5 h-10 v-2.5 h-2.5 v-2.5 h-2.5 v-2.5 h-5 v2.5 h-2.5 v2.5 h-2.5 v2.5 h-2.5 v2.5 h-7.5 v-2.5 h-2.5 v-5 h2.5 v-2.5 h2.5 v-2.5 h2.5 v-7.5 h-2.5 v-2.5 h-2.5 v-2.5 h-2.5 v-7.5 h2.5 v-2.5 h5 v2.5 h2.5 v-5 h2.5 v-5 h2.5 z" style="fill:black"/>
      <path d="M15,2.5 h2.5 v2.5 h2.5 v2.5 h5 v-2.5 h2.5 v-2.5 h2.5 v5 h2.5 v12.5 h-2.5 v2.5 h-12.5 v-2.5 h-2.5 v-2.5 h-2.5 v-10 h2.5 z" style="fill:DimGray"/>
      <path d="M2.5,12.5 h5 v2.5 h2.5 v2.5 h2.5 v2.5 h2.5 v2.5 h-5 v2.5 h-2.5 v-2.5 h-2.5 v-2.5 h-2.5 z" style="fill:DimGray"/>
      <path d="M15,22.5 h2.5 v2.5 h10 v2.5 h2.5 v-5 h2.5 v-2.5 h2.5 v-2.5 h2.5 v7.5 h-2.5 v2.5 h-5 v5 h-20 v-7.5 h5 z" style="fill:DimGray"/>
      <path d="M7.5,32.5 h5 v2.5 h2.5 v2.5 h-2.5 v2.5 h-2.5 v2.5 h-7.5 v-5 h2.5 v-2.5 h2.5  z" style="fill:DimGray"/>
      <path d="M27.5,32.5 h5 v2.5 h5 v5 h-10 v-2.5 h-2.5 v-2.5 h2.5 z" style="fill:DimGray"/>
      <rect  width="2.5" height="2.5" x="20" y="10" style="fill:Silver"/>
      <rect  width="2.5" height="2.5" x="27.5" y="10"  style="fill:Silver"/>
      <path d="M20,15 h12.5 v5 h-2.5 v2.5 h-12.5 v-5 h2.5z" style="fill:NavajoWhite"/>
      <rect width="7.5" height="2.5" x="22.5" y="17.5" style="fill:SlateGray"/>
      <rect class = "ry" width="20" height="2.5" x="10" y="30" style="fill:Gold"/>
    </g>
    <!-- @@@@@@@@@@BATMANMODEL@@@@@@@@@@ -->


    <!-- @@@@@@@@@@MONSTER@@@@@@@@@@ -->
    <g id="monster">
	  	<path d="M10,0 h17.5 v2.5 h2.5 v2.5 h2.5 v2.5 h2.5 v5 h2.5 v5 h-2.5 v2.5 h2.5 v2.5 h2.5 v5 h-2.5 v2.5 h-2.5 v2.5 h2.5 v2.5 	h2.5 v5 h-15 v-2.5 h-2.5 v-2.5 h-5 v2.5 h-2.5 v2.5 h-15 v-5 h2.5 v-2.5 h5 v-2.5 h-5 v-2.5 h-2.5 v-7.5 h2.5 v-2.5 h2.5 v-2.5 h-2.5 v-7.5 h2.5 v-2.5 h2.5 v-2.5 h2.5 v-2.5 z" style="fill:black"/>
  		<path d="M10,2.5 h17.5 v2.5 h2.5 v2.5 h2.5 v5 h2.5 v5 h-2.5 v2.5 h-2.5 v-2.5 h-22.5 v-2.5 h-2.5 v-7.5 h2.5 v-2.5 h2.5 v-2.5 z" style="fill:LawnGreen"/>
  		<path d="M12.5,5 h2.5 v2.5 h10 v2.5 h2.5 v7.5 h-2.5 v2.5 h-2.5 v2.5 h-7.5 v-2.5 h-2.5 v-2.5 h-2.5 v-5 h-2.5 v-2.5 h2.5 v-2.5 h2.5 z" style="fill:White"/>
  		<path d="M10,7.5 h7.5 v7.5 h-5 v-2.5 h2.5 v-2.5 h-2.5 v2.5 h-2.5 v-5 z" style="fill:black"/>
  		<path d="M22.5,7.5 h2.5 v2.5 h2.5 v5 h-7.5 v-5 h2.5 v2.5 h2.5 v-2.5 h-2.5 z" style="fill:black"/>
  		<path d="M12.5,15 h2.5 v2.5 h7.5 v-2.5 h2.5 v2.5 h-2.5 v2.5 h-7.5 v-2.5 h-2.5 v-2.5z" style="fill:red"/>
  		<path d="M2.5,20 h2.5 v-2.5 h2.5 v5 h2.5 v-2.5 h2.5 v2.5 h-2.5 v5 h-7.5 v-7.5z" style="fill:DarkMagenta"/>
  		<path d="M27.5,17.5 h2.5 v2.5 h5 v2.5 h2.5 v5 h-5 v-5 h-2.5 v5 h2.5 v5 h-5 v2.5 h-5 v-2.5 h-5 v2.5 h-5 v-2.5 h-2.5 v-5 h2.5 v-2.5 h2.5 v2.5 h2.5 v2.5 h7.5 v-2.5 h2.5z" style="fill:DarkMagenta"/>
  		<path d="M12.5,22.5 h2.5 v2.5 h7.5 v-2.5 h2.5 v-2.5 h2.5 v7.5 h-2.5 v2.5 h-7.5 v-2.5 h-2.5 v-2.5 h-2.5 z" style="fill:ForestGreen"/>
  		<path d="M20,25 h2.5 v2.5 h-2.5 z" style="fill:DarkOrchid"/>
  		<path d="M7.5,32.5 h5 v2.5 h2.5 v2.5 h-12.5 v-2.5 h5 z" style="fill:DimGray"/>
  		<path d="M27.5,32.5 h5 v2.5 h5 v2.5 h-12.5 v-2.5 h2.5 z" style="fill:DimGray"/>
  		<text x="1" y="5" style="font-size:10px;font-weight:bold;fill:FireBrick;stroke:red;stroke-width:0.2">HA<animateMotion path="M1,5 L3,32 L1,5" dur="3s" repeatCount="indefinite"/></text>
  		<text x="12" y="32" style="font-size:10px;font-weight:bold;fill:FireBrick;stroke:red;stroke-width:0.2">HA<animateMotion path="M12,5 L10,-27 L12,5" dur="3s" repeatCount="indefinite"/></text>
    </g>

    <g id="monster2" transform="translate(40,0) scale(-1,1)">
      <use xlink:href="#monster"/> 
    </g>
    <!-- @@@@@@@@@@MONSTER@@@@@@@@@@ -->

    <!-- @@@@@@@@@@BULLET@@@@@@@@@@ -->

    <g id="bullet" transform="translate(20,20) scale(0.6) translate(-20,-20)">
      <path d="M10,7 Q5,15 20,18 Q35,15 30,7 Q40,8 40,30 Q30,15 20,25 Q10,15 0,30 Q0,8 10,7z" style="fill:SteelBlue;stroke:SlateGray"/>
      <circle cx="20" cy="20" r="4" style="fill:silver"/>
    </g>
    <g id="jbullet">
      <rect x="0" y="16" width="16" height="8" style="fill:brown; stroke:black"/>
      <path d="M16,16 h22 L28,24 h-12z" style="fill:DimGray "/>
    </g>
    <g id="jbulletr" transform="translate(40,0) scale(-1,1)">
      <use xlink:href="#jbullet"/> 
    </g>
    <!-- @@@@@@@@@@BULLET@@@@@@@@@@ -->

    <!-- @@@@@@@@@@PORTAL@@@@@@@@@@ -->
    <g id="portal">
      <path d="M10,0 h20 L40,20 v60 h-40 v-60 L10,0 z" style="fill:DarkSlateGray;stroke:DarkCyan"/>
      <ellipse cx="20" cy="50" rx="16" ry="25" style="fill:url(#grad3)"/>
      <text x="9" y="11" style="font-size:12px;fill:yellow">BAT</text>
      <text x="5" y="22" style="font-size:12px;fill:yellow">CAVE</text>
    </g>
    <!-- @@@@@@@@@@PORTAL@@@@@@@@@@ -->

    <!-- @@@@@@@@@@CANDY@@@@@@@@@@ -->
    <g id="candy">
  		<circle cx="10" cy="10" r="10" style="fill:LightSlateGrey"/>
  		<path d="M5,5 Q7,10 9,2.5 Q10,10 11,2.5 Q13,10 15,5 Q24,10 15,15 Q12,10 10,19 Q8,10 5,15 Q-4,10 5,5 z" style="fill:gold">
     		<animate attributeName="fill" attributeType="CSS" values="yellow;gold;Gainsboro;gold;yellow" begin="0s" dur="2s" repeatCount="indefinite"/>
  		</path>
    </g>
    <!-- @@@@@@@@@@CANDY@@@@@@@@@@ -->


    <!-- @@@@@@@@@@EXIT@@@@@@@@@@ -->
    <g id="exit">
      <rect x="1" y="1" width="58" height="20" style="fill:yellow;stroke:black"/>
      <text x="9" y="17" style="fill:black;font-size:20px;font-weight:bold">EXIT</text>
      <rect x="1" y="21" width="58" height="60" style="fill:grey;stroke:black"/>
      <path d="M1,80 L10,30 h40 L59,80 z" style="fill:url(#grad1)"/>
      <g id = "door" visibility="visible">
        <rect x="1" y="21" width="28" height="58" style="fill:url(#grad6);stroke:black;"/>
        <rect x="30" y="21" width="29" height="58" style="fill:url(#grad5);stroke:black;"/>
        <circle cx="25" cy="50" r="2" style="fill:silver;stroke:grey"/>
        <circle cx="34" cy="50" r="2" style="fill:silver;stroke:grey"/>
      </g>
    </g>
    <!-- @@@@@@@@@@EXIT@@@@@@@@@@ -->
  </defs>
    <!-- @@@@@@@@@@BACKGROUND@@@@@@@@@@ -->
  <rect width="100%" height="100%" style="fill:url(#backgroundimg);stroke:orange;stroke-width:4" />
  <rect x="20" y="20" width="600" height="560" style="fill:black;stroke:black;stroke-width:5" />

    <!-- @@@@@@@@@@GAMEAREA@@@@@@@@@@ -->
  <g style="clip-path:url(#gameareaclip)">
    <g transform="translate(20,20)">
      <g id="gamearea" transform="translate(0,0)" width="600" height="560">
        <rect x="0" y="0" width="600" height="560" style="fill:url(#gamebackgroundimg)" />

    <!-- @@@@@@@@@@PLATFORM@@@@@@@@@@ -->
        <g id="platforms">
      		<rect x="40" y="540" width="120" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="80" y="520" width="60" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="100" y="500" width="20" height="20" style="fill:url(#platform_pattern)"/>
      		
      		<rect x="200" y="540" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="200" y="520" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="240" y="500" width="40" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="260" y="460" width="20" height="40" style="fill:url(#platform_pattern)"/>

      		<rect x="340" y="520" width="60" height="40" style="fill:url(#platform_pattern)"/>
      		<rect x="360" y="460" width="40" height="60" style="fill:url(#platform_pattern)"/>

      		<rect x="440" y="540" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="460" y="520" width="60" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="480" y="500" width="40" height="20" style="fill:url(#platform_pattern)"/>


      		<rect x="0" y="440" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="0" y="420" width="60" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="0" y="400" width="40" height="20" style="fill:url(#platform_pattern)"/>

      		<rect x="160" y="440" width="40" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="140" y="420" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="120" y="400" width="120" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="140" y="380" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="160" y="360" width="40" height="20" style="fill:url(#platform_pattern)"/>

      		<rect x="460" y="420" width="60" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="420" y="400" width="100" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="380" y="380" width="80" height="20" style="fill:url(#platform_pattern)"/>
          <rect x="340" y="340" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="300" y="360" width="120" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="340" y="300" width="180" height="40" style="fill:url(#platform_pattern)"/>
      		<rect x="300" y="280" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="260" y="260" width="80" height="20" style="fill:url(#platform_pattern)"/>

      		<rect x="0" y="300" width="100" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="0" y="280" width="80" height="20" style="fill:url(#platform_pattern)"/>


      		<rect x="0" y="80" width="60" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="0" y="100" width="80" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="0" y="120" width="120" height="20" style="fill:url(#platform_pattern)"/>

      		<rect x="80" y="200" width="160" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="160" y="180" width="100" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="180" y="160" width="100" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="200" y="140" width="100" height="20" style="fill:url(#platform_pattern)"/>

      		<rect x="80" y="0" width="20" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="100" y="20" width="20" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="100" y="40" width="20" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="120" y="60" width="120" height="20" style="fill:url(#platform_pattern)"/>

      		<rect x="400" y="140" width="200" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="440" y="120" width="160" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="480" y="100" width="120" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="500" y="80" width="100" height="20" style="fill:url(#platform_pattern)"/>

      		<rect x="260" y="0" width="160" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="280" y="20" width="120" height="20" style="fill:url(#platform_pattern)"/>
      		<rect x="300" y="40" width="80" height="20" style="fill:url(#platform_pattern)"/>

          <rect id = "dp1" x="300" y="140" width="100" height="20" type="disappearing" style="opacity:1;fill:url(#dplatform_pattern)"/>
    		  <rect id = "dp2" x="280" y="440" width="80" height="20" type="disappearing" style="opacity:1;fill:url(#dplatform_pattern)"/>
    		  <rect id = "dp3" x="0" y="200" width="80" height="20" type="disappearing" style="opacity:1;fill:url(#dplatform_pattern)"/>
          
          <rect id = "mplatform" x="520" y="500" width="80" height="20"  style="fill:yellow"/>
          <use id="mplatformp" xlink:href="#mplatform_pattern" x="520" y="500"/> 
      	</g>

    <!-- @@@@@@@@@@PLATFORM@@@@@@@@@@ -->

    <!-- @@@@@@@@@@PORTAL@@@@@@@@@@ -->
        <use id="portal1" xlink:href="#portal" x="290" y="480"/> 
        <use id="portal2" xlink:href="#portal" x="0" y="0"/> 

    <!-- @@@@@@@@@@EXIT@@@@@@@@@@ -->
        <use id="theexit" xlink:href="#exit" x="530" y="0"/> 

    <!-- @@@@@@@@@@PLAYER@@@@@@@@@@ -->
        <g id="player" transform="translate(0,520)">
          <use id="batman" xlink:href="#batmanmodel1" x="0" y="0"/> 
          <g id="smoke" visibility="hidden">
            <ellipse cx="5" cy="35" rx="8" ry="4" style="fill:white;fill-opacity:0.6">
            <animateMotion path="M3,3 L-1,-10 L3,3 z" dur="3.2s" repeatCount="indefinite"/></ellipse>
            <ellipse cx="10" cy="25" rx="8" ry="5" style="fill:white;fill-opacity:0.6">
            <animateMotion path="M-2,-2 L4,8 L-2,-2 z" dur="2.5s" repeatCount="indefinite"/></ellipse>
            <ellipse cx="15" cy="30" rx="7" ry="4" style="fill:white;fill-opacity:0.6">
            <animateMotion path="M-1,5 L1,-5 L-1,5 z" dur="3s" repeatCount="indefinite"/></ellipse>
            <ellipse cx="20" cy="22" rx="6" ry="5" style="fill:white;fill-opacity:0.6">
            <animateMotion path="M-1,3 L1,14 L-1,3 z" dur="2s" repeatCount="indefinite"/></ellipse>
            <ellipse cx="25" cy="28" rx="7" ry="5" style="fill:white;fill-opacity:0.6">
            <animateMotion path="M-1,5 L3,-5 L-1,5 z" dur="2.2s" repeatCount="indefinite"/></ellipse>
            <ellipse cx="30" cy="22" rx="8" ry="5" style="fill:white;fill-opacity:0.6">
            <animateMotion path="M-1,0 L3,10 L-1,0 z" dur="2s" repeatCount="indefinite"/></ellipse>
            <ellipse cx="35" cy="25" rx="8" ry="4" style="fill:white;fill-opacity:0.6">
            <animateMotion path="M-2,5 L3,-5 L-2,5 z" dur="2s" repeatCount="indefinite"/></ellipse>
          </g>
          <text id="username" text-anchor="middle" x="22" y="-5" style="font-size:10px;fill:Yellow">Anonymous</text>
        </g>

    <!-- @@@@@@@@@@START@@@@@@@@@@ -->
      	<g id="start" style="visibility:visible">
          <rect x="50" y="30" width="500" height="500" style="fill:url(#instruction);stroke-width:5;stroke:DarkSlateGray;stroke-linejoin:round"/>
          <text x="100" y="100" style="font-size:40px;fill:CadetBlue;font-family:serif;font-weight: bold">THE BATMAN GAME</text>
          <rect x="250" y="450" width="100" height="50" style="fill:DeepSkyBlue; stroke:Gray;stroke-width:4;stroke-linejoin:round" type="start" onclick = "top.load(evt);top.inputname()"/>
          <text x="255" y="485" style="font-size:28px;fill:black;font-family:serif;font-weight:bold;" onclick = "top.load(evt);top.inputname()">START</text>

  		    <text x="230" y="140" style="font-size:20px;text-decoration:underline;fill:CadetBlue;font-weight: bold">INSTRUCTION</text>   

          <text x="80" y="190" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >You are the DARK KNIGHT, press A </text>   
          <text x="80" y="220" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >and D to move, press K to jump.</text>  
          <text x="80" y="250" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >Press J to throw a</text>   
          <text x="370" y="250" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >. Earn points</text>   
          <text x="80" y="280" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >by colleting </text>       
          <text x="270" y="280" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >or apprehending </text>
          <text x="80" y="310" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >the</text>
          <text x="160" y="310" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >. You have to collect all </text>
          <text x="80" y="340" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >before going to the exit. Use the Bat </text>
          <text x="80" y="370" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >Cave to traverse to another location</text>
          <text x="80" y="400" style="font-size:25px;fill:CadetBlue;stroke:DarkSlateGray;font-weight: bold" >quickly.</text>

          <g transform="scale(1.2) translate(260,183)">
            <ellipse cx="20" cy="21" rx="24" ry="12" style="fill:DarkSlateGray;stroke:grey;stroke-width:2"/>
            <use xlink:href="#bullet" x="0" y="0"/> 
          </g>
          <g transform="scale(1.2)">
            <use xlink:href="#candy" x="190" y="217"/> 
            <use xlink:href="#candy" x="370" y="242"/> 
          </g>
          <use xlink:href="#monster" x="120" y="280"/> 
          
      	</g>

    <!-- @@@@@@@@@@GROUPS@@@@@@@@@@ -->
        <g id="monsters"/>
        <g id="candys"/>
        <g id="bullets"/>
        <g id="enemybullets"/>

    <!-- @@@@@@@@@@DIE@@@@@@@@@@ -->
        <g id="playerdie" style="visibility:hidden" transform = "translate(150,150)">
          <rect x="0" y="0" width="300" height="180" style="fill:DarkRed; stroke:black;stroke-width:10;stroke-linejoin:round;"/>
          <text x="28" y="90" style="font-size:50px;text-decoration: underline;fill:black;font-weight: bold">YOU DIED</text>
          <rect x="30" y="115" width="100" height="50" style="fill:yellow;stroke:Navy;stroke-width:5;stroke-linejoin:round;" onclick = "top.togglesb()"/>
          <text x="50" y="135" style="font-size:15px;text-decoration: underline;fill:grey;font-weight:bold" onclick = "top.togglesb()">SCORE </text>
          <text x="50" y="155" style="font-size:15px;text-decoration: underline;fill:grey;font-weight:bold" onclick = "top.togglesb()">BOARD</text>   
          <rect x="168" y="115" width="100" height="50" style="fill:MidnightBlue;stroke:Navy;stroke-width:5;stroke-linejoin:round;" onclick = "top.restart();top.inputname()"/>
          <text x="171" y="145" style="font-size:20px;text-decoration: underline;fill:grey;font-weight:bold" onclick = "top.restart();top.inputname()">RESTART</text> 
        </g>
        <!-- @@@@@@@@@@WON@@@@@@@@@@ -->
        <g id="won" style="visibility:hidden">
          <rect x="150" y="150" width="300" height="180" style="fill:gold;stroke:black;stroke-width:10;stroke-linejoin:round;"/>
          <text x="177" y="240" style="font-size:50px;text-decoration: underline;fill:black;font-weight: bold">YOU WON</text>
          <rect x="245" y="265" width="110" height="50" style="fill:MidnightBlue;stroke:Navy;stroke-width:5;stroke-linejoin:round;" onclick = "top.load(evt)"/>
          <text x="248" y="295" style="font-size:20px;text-decoration: underline;fill:cyan;font-weight:bold" onclick = "top.load(evt)">CONTINUE</text> 
        </g>
      </g>
    </g>
  </g>

      <!-- @@@@@@@@@@TIMER@@@@@@@@@@ -->
  <g transform="translate(630,50)">
    <path id="bsymbol" d="M0,0 h50 Q60,20 70,0 Q80,30 90 0 Q100,20 110,0 h50 Q130,20 120,60 Q90,70 80,100 Q 70,70 40,60 Q 30,20 0,0 z" style="fill:black;stroke:DimGray;stroke-width:3"/>
    <text id="timer" x="53" y="57" style="fill:yellow;font-size:50px">60</text>
  </g>

    <!-- @@@@@@@@@@SCORE@@@@@@@@@@ -->
  <g transform="translate(630,250)">
    <rect x="30" y="-20" width="100" height="20" style="fill:yellow; stroke:DimGray;stroke-width:3"/>
    <rect x="0" y="0" width="160" height="60" style="stroke:DimGray;stroke-width:5;stroke-linejoin:round"/>
    <text id="score" x="66" y="47" style="fill:yellow;font-size:50px">0</text>
    <text x="53" y="-5" style="fill:black;font-size:15px;font-weight: bold">SCORE</text>
  </g>

    <g transform="translate(10,0)">
      <ellipse cx="670" cy="370" rx="40" ry="20" style="fill:DarkSlateGray;stroke:grey;stroke-width:2"/>
      <use transform="translate(634,333) scale(1.8)" xlink:href="#bullet" x="0" y="0"/> 
      <rect x="735" y="345" width="35" height="50" style="fill:CadetBlue;stroke:DimGray;stroke-width:5;stroke-linejoin:round"/>
      <text id="noofbullet" x="739" y="387" style="fill:DarkSlateGray;font-size:48px">6</text>
    </g>
    <g transform="translate(660,160)">
      <rect x="0" y="0" width="100" height="50" style="fill:DarkSlateGray;stroke:DimGray;stroke-width:3"/>
      <text x="10" y="38" style="fill:yellow ;font-size:38px">LV</text>
      <text id = "level" x="65" y="38" style="fill:yellow ;font-size:38px">1</text>
    </g>
    
    <g id="highscoretable" transform="translate(40,40)" style="visibility:hidden">
      <rect width="520" height="480" style="fill:url(#grad2);stroke:Navy;stroke-width:2"/>
      <g transform="translate(480,10)" onclick="top.togglesb()">
        <rect width="30" height="30" style="fill:red;stroke:black;stroke-width:2"/>
        <line x1="0" y1="0" x2="30" y2="30" style="stroke:black"/>
        <line x1="30" y1="0" x2="0" y2="30" style="stroke:black"/>
      </g>
      <text x="260" y="40" style="fill:MidnightBlue;font-size:30px;font-weight:bold;text-anchor:middle">High Score Table</text>
      <text id="highscoretext" y="45" style="font-size: 20px;font-weight:bold"/>
  </g>
    
    <!-- @@@@@@@@@@AUDIO@@@@@@@@@@ -->
  <xhtml:audio id="BGM" src="sound/BGM.mp3" begin="indefinite"/>
  <xhtml:audio id="die1" src="sound/die1.mp3" begin="indefinite"/>
  <xhtml:audio id="die2" src="sound/die2.mp3" begin="indefinite"/>
  <xhtml:audio id="jokerdie1" src="sound/jokerdie1.mp3" begin="indefinite"/>
  <xhtml:audio id="jokerdie2" src="sound/jokerdie2.mp3" begin="indefinite"/>
  <xhtml:audio id="hit" src="sound/hit.mp3" begin="indefinite"/>
  <xhtml:audio id="shoot" src="sound/shoot.mp3" begin="indefinite"/>
  <xhtml:audio id="tp" src="sound/tp.mp3" begin="indefinite"/>
  <xhtml:audio id="jump" src="sound/jump.mp3" begin="indefinite"/>
  <xhtml:audio id="slip" src="sound/slip.mp3" begin="indefinite"/>
  <xhtml:audio id="ding" src="sound/ding.mp3" begin="indefinite"/>
  <xhtml:audio id="gameover" src="sound/gameover.mp3" begin="indefinite"/>
  <xhtml:audio id="win" src="sound/won.mp3" begin="indefinite"/>
  <xhtml:audio id="smokebomb" src="sound/smokebomb.mp3" begin="indefinite"/>

</svg>
